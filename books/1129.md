# static

static变量

- 静态存储类别的局部变量，当函数体(或复合语句)内部用static来说明一个变量时，可以称该变量为静态局部变量。它与auto变量、register变量的本质区别是：
  - (1)在整个程序运行期间，静态局部变量在内存中的静态存储区中占据着永久性的存储单元。即使退出函数后，下次再进入该函数时，静态局部变量仍使用原来的存储单元。由于不释放这些存储单元，这些存储单元中的值得以保留，因而可以继续使用存储单元中原来的值。由此可知，静态局部变量的生存期将一直延长到程序运行结束。
  - (2)静态局部变量的初值是在编译时赋予的，在程序执行期间不再赋以初值。对未赋值的局部变量，C语言编译程序自动给它赋初值为0。
- 用static声明外部变量，有时在程序设计中希望某些外部变量只限于本文件使用，而不能被其他文件引用，这时可以在定义外部变量时加一个static声明。
  - 并不是对外部变量加上static才是静态存储而不加static的是动态存储。两种形式的外部变量都是静态存储方式，只是作用范围不同而已。